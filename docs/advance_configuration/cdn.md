# CDN配置

本文档用于指导用户对FSD进行正确的CDN配置  
本文档使用腾讯云进行CDN配置示例  
其他CDN提供商请读者灵活变通  

!> 这里CDN代理指的是代理FSD捆绑的Http服务器! 而不是FSD本体  
FSD本体不能过CDN! CDN设计上就不是为了TCP长连接设计的  
所以不要用CDN加速FSD本体!!!  
对于本项目, CDN主要作用是隐藏服务器真实IP地址与减少服务器访问延迟  

## 前期准备
1. 已经部署好FSD的服务器
2. 一个已经备案好的域名
3. 一个腾讯云账号, 记得先充点钱

## CDN配置
1. 首先登陆腾讯云账号, 进入[CDN管理控制台](https://console.cloud.tencent.com/cdn/domains)
2. 添加一个CDN加速域名
    ![](../image/setup_cdn/step1.png)
3. 配置CDN基础信息  
    `加速区域`按需选择, 如果不需要海外加速选择`中国境内`就行  
    `加速域名`填写需要加速的域名, 这里我们随便填一个`api.apocfly.com`  
    `加速类型`选择`CDN 网页小文件`  
    `IPV6访问`按需开启  
    `所属项目`与`标签`可以随意填写  
    ![](../image/setup_cdn/step2.png)
4. 配置CDN源站信息  
    `源站类型`选择`自有源`  
    `回源协议`按实际访问协议来选择, 不建议选择协议跟随, 建议手动指定访问协议  
    `源站地址`填写实际服务器的访问地址与端口  
    `回源Host`如果你的服务器使用了nginx之类的反向代理来区分不同的网站, 可以修改此处, 其余情况下不需要动  
    ![](../image/setup_cdn/step3.png)
5. 推荐配置  
    推荐配置直接跳过即可, 我们需要特殊配置  
    ![](../image/setup_cdn/step4.png)
6. 配置CNAME  
    如果域名挂靠在腾讯云, 可以一键添加CNAME记录  
    否则需要手动为域名添加CNAME记录  
    检查CNAME记录生效后, 点击完成  
    ![](../image/setup_cdn/step5.png)
7. a
8. 
9.  
